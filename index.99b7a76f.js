(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var s=e.g.document;if(!t&&s&&(s.currentScript&&(t=s.currentScript.src),!t)){var i=s.getElementsByTagName("script");if(i.length)for(var n=i.length-1;n>-1&&!t;)t=i[n--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const t=e.p+"assets\\audio\\opensound.mp3",s=e.p+"assets\\audio\\flagsound.mp3",i=e.p+"assets\\audio\\kitten2sound.mp3",n=e.p+"assets\\audio\\loosesound.mp3",a=e.p+"assets\\audio\\winsound.mp3",o=e.p+"assets\\icons\\blackkitten.png",l=e.p+"assets\\icons\\blindkitten.png",r=(e.p,e.p,e.p+"assets\\icons\\blindpaw.png"),h=e.p+"assets\\icons\\blackpaw.png",c=e.p+"assets\\icons\\closeBlack.png",d=e.p+"assets\\icons\\closeWhite.png";function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function u(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?p(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,i=new Array(t);s<t;s++)i[s]=e[s];return i}function g(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==m(e)||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!==m(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i.key),"symbol"===m(n)?n:String(n)),i)}var n}e.p;var f=new(function(){function e(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rows=o,this.columms=l,this.mines=r,this.numberOfCells=o*l,this.restMines=r,this.flags=r,this.clickscount=0,this.productiveClicksCount=0,this.seconds=0,this.minutes=0,this.timerIdForStop,this.cell,this.cellWithOutBomb,this.cellUnderClick,this.currentCell,this.markForRangeEvent=0,this.winGame=0,this.minesField=new Array(this.rows),this.counterOfMarkedKittens=0,this.counterForRestCellsWithOutBombs=0,this.audioForOpenCell=new Audio(t),this.audioForFlagCell=new Audio(s),this.audioForMineCell=new Audio(i),this.audioForGameOver=new Audio(n),this.audioForWin=new Audio(a),this.mainContainer=document.createElement("div"),this.toolsScoreContainer=document.createElement("div"),this.durationAndGameContainer=document.createElement("div"),this.title=document.createElement("div"),this.text=document.createElement("div"),this.score=document.createElement("div"),this.durationOnGame=document.createElement("div"),this.game=document.createElement("div"),this.counterOfFlags=document.createElement("div"),this.counterOfMines=document.createElement("div"),this.counterOfTime=document.createElement("div"),this.numberOfLeftClicks=document.createElement("div"),this.resultWindow=document.createElement("div"),this.resultOKButton=document.createElement("div"),this.resultText=document.createElement("div"),this.buttonStartNewGame=document.createElement("div"),this.tools=document.createElement("div"),this.settigsTitle=document.createElement("div"),this.settingsCommonBlock=document.createElement("div"),this.settingsCloseIcon=document.createElement("div"),this.settingsCloseIconImage=document.createElement("img"),this.sizeOfGame=document.createElement("div"),this.sizeOfGameTitle=document.createElement("div"),this.sizeForm=document.createElement("form"),this.sizeEasyTitle=document.createElement("label"),this.sizeEasy=document.createElement("input"),this.sizeMediumTitle=document.createElement("label"),this.sizeMedium=document.createElement("input"),this.sizeHardTitle=document.createElement("label"),this.sizeHard=document.createElement("input"),this.numberOfMines=document.createElement("div"),this.numberOfMinesTitle=document.createElement("div"),this.numberOfMinesInput=document.createElement("input"),this.theme=document.createElement("div"),this.themeTitle=document.createElement("div"),this.themeForm=document.createElement("form"),this.whiteThemeTitle=document.createElement("label"),this.whiteThemeInput=document.createElement("input"),this.blackThemeTitle=document.createElement("label"),this.blackThemeInput=document.createElement("input"),this.sound=document.createElement("div"),this.soundTitle=document.createElement("div"),this.soundForm=document.createElement("form"),this.onSoundTitle=document.createElement("label"),this.onSoundInput=document.createElement("input"),this.offSoundTitle=document.createElement("label"),this.offSoundInput=document.createElement("input"),this.resultsBlock=document.createElement("div"),this.resultsCloseIcon=document.createElement("div"),this.resultsCloseIconImage=document.createElement("img"),this.resultsTitle=document.createElement("div"),this.resultsTable=document.createElement("div"),this.resultsTableLine=document.createElement("div"),this.resultsItemName=document.createElement("div"),this.resultsItemClicks=document.createElement("div"),this.resultsItemDuration=document.createElement("div"),this.resultsName,this.resultsInputBlock=document.createElement("div"),this.resultsInputBlockTitle=document.createElement("div"),this.resultsInputBlockInput=document.createElement("input"),this.resultsInputBlockSubmit=document.createElement("div"),this.resultsForSaveIfUserCloseOrReloadWindow=new Object,this.gameForSaveIfUserCloseOrReloadWindow=new Object,this.resultsFromSave=new Object,this.gameFromSave=new Object,this.arrayForNames=new Array,this.arrayForClicks=new Array,this.arrayForTime=[],this.arrayOfClasesOfCells=[],this.saveButton=document.createElement("div"),this.loadWindow=document.createElement("div"),this.loadTitle=document.createElement("div"),this.loadBlockForButtons=document.createElement("div"),this.loadYesButton=document.createElement("div"),this.loadNoButton=document.createElement("div")}var m,p;return m=e,(p=[{key:"receiveMineSweeperGame",value:function(){this.mainContainer.classList.add("container"),this.toolsScoreContainer.classList.add("container_tools"),this.title.classList.add("title_block"),this.title.textContent="Kitten's MineSweeper",this.text.classList.add("text_block"),this.text.textContent="Dear, friend! You need to find all dreaming kittens and mark them. Be careful, don't wake up them",this.numberOfLeftClicks.classList.add("number_clicks"),this.numberOfLeftClicks.textContent="Number of movements: ".concat(this.productiveClicksCount),this.counterOfMines.classList.add("counter_mines"),this.counterOfMines.textContent="Number of hidden dreaming cats: 0",this.counterOfFlags.classList.add("counter_paws"),this.counterOfFlags.textContent="Number of paws: 0",this.counterOfTime.classList.add("counter_times"),this.counterOfTime.textContent="Duration: 00:00 seconds",this.durationAndGameContainer.classList.add("container_game"),this.durationOnGame.classList.add("duration_block"),this.game.classList.add("game_block"),this.game.style.gridTemplateColumns="repeat(".concat(this.columms,", auto)"),this.game.style.gridTemplateRows="repeat(".concat(this.rows,", auto)"),document.body.prepend(this.mainContainer),this.mainContainer.append(this.durationAndGameContainer),this.mainContainer.append(this.toolsScoreContainer),this.toolsScoreContainer.append(this.title),this.toolsScoreContainer.append(this.text),this.durationAndGameContainer.append(this.durationOnGame),this.durationOnGame.append(this.counterOfTime),this.durationOnGame.append(this.numberOfLeftClicks),this.durationOnGame.append(this.counterOfMines),this.durationOnGame.append(this.counterOfFlags),this.durationAndGameContainer.append(this.game),this.receiveStartGameButton(),this.receiveSaveGameButton(),this.receiveSettingsBlock(),this.receiveResultsBlock()}},{key:"receiveStartGameButton",value:function(){this.buttonStartNewGame.classList.add("start_button"),this.buttonStartNewGame.textContent="Start new game",this.toolsScoreContainer.append(this.buttonStartNewGame)}},{key:"receiveSaveGameButton",value:function(){this.saveButton.classList.add("save_button"),this.saveButton.textContent="Save game",this.toolsScoreContainer.append(this.saveButton)}},{key:"receiveSettingsBlock",value:function(){this.tools.classList.add("tools_block"),this.toolsScoreContainer.append(this.tools),this.settigsTitle.classList.add("tools_title"),this.settigsTitle.textContent="Settings",this.tools.append(this.settigsTitle),this.receiveSettigsWindow()}},{key:"receiveSettigsWindow",value:function(){this.settingsCommonBlock.classList.add("settings_container"),this.sizeOfGame.classList.add("size_block"),this.sizeOfGameTitle.classList.add("size_title"),this.sizeOfGameTitle.textContent="Size of game:",this.theme.classList.add("theme_block"),this.settingsCommonBlock.append(this.theme),this.sound.classList.add("sound_block"),this.settingsCommonBlock.append(this.sound),this.themeTitle.classList.add("theme_title"),this.themeTitle.textContent="Theme of game:",this.theme.append(this.themeTitle),this.themeForm.classList.add("theme_form"),this.theme.append(this.themeForm),this.blackThemeTitle.textContent="dark style",this.blackThemeTitle.setAttribute("for","black"),this.blackThemeInput.setAttribute("id","black"),this.blackThemeInput.setAttribute("type","radio"),this.blackThemeInput.setAttribute("name","theme"),this.blackThemeInput.classList.add("input_radio"),this.blackThemeInput.checked=!0,this.themeForm.append(this.blackThemeInput),this.themeForm.append(this.blackThemeTitle),this.whiteThemeTitle.textContent="light style",this.whiteThemeTitle.setAttribute("for","white"),this.whiteThemeInput.setAttribute("id","white"),this.whiteThemeInput.setAttribute("type","radio"),this.whiteThemeInput.setAttribute("name","theme"),this.whiteThemeInput.classList.add("input_radio"),this.themeForm.append(this.whiteThemeInput),this.themeForm.append(this.whiteThemeTitle),this.soundTitle.classList.add("sound_title"),this.soundTitle.textContent="Sound:",this.sound.append(this.soundTitle),this.soundForm.classList.add("sound_form"),this.sound.append(this.soundForm),this.onSoundTitle.textContent="on",this.onSoundTitle.setAttribute("for","on"),this.onSoundInput.setAttribute("id","on"),this.onSoundInput.setAttribute("type","radio"),this.onSoundInput.setAttribute("name","sound"),this.onSoundInput.classList.add("input_radio"),this.onSoundInput.checked=!0,this.soundForm.append(this.onSoundInput),this.soundForm.append(this.onSoundTitle),this.offSoundTitle.textContent="off",this.offSoundTitle.setAttribute("for","off"),this.offSoundInput.setAttribute("id","off"),this.offSoundInput.setAttribute("type","radio"),this.offSoundInput.setAttribute("name","sound"),this.offSoundInput.classList.add("input_radio"),this.soundForm.append(this.offSoundInput),this.soundForm.append(this.offSoundTitle),this.settingsCommonBlock.append(this.sizeOfGame),this.sizeOfGame.append(this.sizeOfGameTitle),this.sizeForm.classList.add("size_form"),this.sizeOfGame.append(this.sizeForm),this.sizeEasyTitle.textContent="10x10",this.sizeEasyTitle.setAttribute("for","10"),this.sizeEasy.setAttribute("id","10"),this.sizeEasy.classList.add("input_radio"),this.sizeEasy.checked=!0,this.sizeEasy.setAttribute("type","radio"),this.sizeEasy.setAttribute("name","size"),this.sizeForm.append(this.sizeEasy),this.sizeForm.append(this.sizeEasyTitle),this.sizeMediumTitle.textContent="15x15",this.sizeMediumTitle.setAttribute("for","15"),this.sizeMedium.setAttribute("id","15"),this.sizeMedium.setAttribute("type","radio"),this.sizeMedium.setAttribute("name","size"),this.sizeMedium.classList.add("input_radio"),this.sizeForm.append(this.sizeMedium),this.sizeForm.append(this.sizeMediumTitle),this.sizeHardTitle.textContent="25x25",this.sizeHardTitle.setAttribute("for","25"),this.sizeHard.setAttribute("id","25"),this.sizeHard.setAttribute("type","radio"),this.sizeHard.setAttribute("name","size"),this.sizeHard.classList.add("input_radio"),this.sizeForm.append(this.sizeHard),this.sizeForm.append(this.sizeHardTitle),this.numberOfMines.classList.add("number_mines_block"),this.settingsCommonBlock.append(this.numberOfMines),this.numberOfMinesTitle.classList.add("number_mines_title"),this.numberOfMinesTitle.textContent="Number of kittens: ".concat(this.mines," kittens"),this.numberOfMines.append(this.numberOfMinesTitle),this.numberOfMinesInput.setAttribute("id","numberOfMines"),this.numberOfMinesInput.setAttribute("type","range"),this.numberOfMinesInput.setAttribute("value",this.mines),this.numberOfMinesInput.setAttribute("min",10),this.numberOfMinesInput.setAttribute("max",99),this.numberOfMinesInput.setAttribute("step",1),this.numberOfMinesInput.classList.add("input_range"),this.numberOfMines.append(this.numberOfMinesInput),this.settingsCloseIcon.classList.add("close-button"),this.whiteThemeInput.checked?this.settingsCloseIconImage.src=c:this.blackThemeInput.checked&&(this.settingsCloseIconImage.src=d),this.settingsCloseIconImage.alt="close",this.settingsCloseIconImage.classList.add("close-image"),this.settingsCommonBlock.prepend(this.settingsCloseIcon),this.settingsCloseIcon.append(this.settingsCloseIconImage)}},{key:"receiveResultsBlock",value:function(){this.resultsBlock.classList.add("results_block"),this.toolsScoreContainer.append(this.resultsBlock),this.resultsTitle.classList.add("results_title"),this.resultsTitle.textContent="Results",this.resultsBlock.append(this.resultsTitle),this.receiveResultsTable()}},{key:"receiveResultsTable",value:function(){this.resultsTable.classList.add("results_table"),this.resultsCloseIcon.classList.add("close-button"),this.whiteThemeInput.checked?this.resultsCloseIconImage.src=c:this.blackThemeInput.checked&&(this.resultsCloseIconImage.src=d),this.resultsCloseIconImage.alt="close",this.resultsCloseIconImage.classList.add("close-image"),this.resultsTable.append(this.resultsCloseIcon),this.resultsCloseIcon.append(this.resultsCloseIconImage),this.resultsTableLine.classList.add("results_line"),this.resultsTable.append(this.resultsTableLine),this.resultsItemName.classList.add("results_item"),this.resultsItemName.textContent="Name",this.resultsTableLine.append(this.resultsItemName),this.resultsItemClicks.classList.add("results_item"),this.resultsItemClicks.textContent="Clicks",this.resultsTableLine.append(this.resultsItemClicks),this.resultsItemDuration.classList.add("results_item"),this.resultsItemDuration.textContent="Time",this.resultsTableLine.append(this.resultsItemDuration)}},{key:"receiveResultsTablefromSave",value:function(){if(localStorage.getItem("savedResultsMineSweeper")&&null!=this.resultsFromSave.clicks){this.arrayForNames=u(this.resultsFromSave.name),this.arrayForClicks=u(this.resultsFromSave.clicks),this.arrayForTime=u(this.resultsFromSave.time);for(var e=0;e<this.arrayForClicks.length;e++){var t=document.createElement("div");t.classList.add("results_line"),this.resultsTable.append(t);var s=document.createElement("div");s.classList.add("results_item"),s.textContent=this.arrayForNames[e],t.append(s);var i=document.createElement("div");i.classList.add("results_item"),i.textContent=this.arrayForClicks[e],t.append(i);var n=document.createElement("div");n.classList.add("results_item"),n.textContent=this.arrayForTime[e],t.append(n)}}}},{key:"makeNoteInResults",value:function(){this.resultsTable.children.length>=12&&(this.resultsTable.children[2].remove(),this.arrayForNames.shift(),this.arrayForClicks.shift(),this.arrayForTime.shift());var e=document.createElement("div");e.classList.add("results_line"),this.resultsTable.append(e);var t=document.createElement("div");t.classList.add("results_item"),t.textContent=this.resultsName,e.append(t);var s=document.createElement("div");s.classList.add("results_item"),s.textContent=this.productiveClicksCount,e.append(s);var i=document.createElement("div");i.classList.add("results_item"),i.textContent="".concat(this.counterOfTime.textContent.slice(10,15)),e.append(i),this.arrayForNames.push(this.resultsName),this.arrayForClicks.push(this.productiveClicksCount),this.arrayForTime.push(i.textContent)}},{key:"receiveMineSweeperBoard",value:function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columms;t++)this.cell=document.createElement("div"),this.cell.dataset.position="".concat(e,",").concat(t),this.cell.classList.add("cell"),this.whiteThemeInput.checked&&(this.cell.style.background="#fafafa"),this.game.append(this.cell)}},{key:"receiveNumberOfClicks",value:function(e){document.body.children[0].classList.contains("window_result")||0!==this.markForRangeEvent||e.target===this.game?e.stopImmediatePropagation():("DIV"==e.target.tagName?this.cellUnderClick=e.target:this.cellUnderClick=e.target.parentNode,this.cellUnderClick.classList.contains("opened")||this.cellUnderClick.classList.contains("marked")||(this.productiveClicksCount+=1,this.numberOfLeftClicks.textContent="Number of movements: ".concat(this.productiveClicksCount)),this.clickscount+=1,1===this.clickscount&&(setTimeout((function(){f.countTime()}),0),this.timerIdForStop=setInterval((function(){f.countTime()}),1e3)))}},{key:"receiveMinesField",value:function(e){if((this.cell||this.cell.contains.classList.contains("opened")||"click"!==e.type)&&e.target!==this.game){this.cellWithOutBomb=e.target;for(var t=parseInt(this.cellWithOutBomb.dataset.position.split(",")[0]),s=parseInt(this.cellWithOutBomb.dataset.position.split(",")[1]),i=0;i<this.minesField.length;i++)this.minesField[i]=new Array;for(var n=0;n<this.minesField.length;n++)for(var a=0;a<this.columms;a++)this.minesField[n].push(0);this.receiveMines(t,s),this.receiveNumberOfMinesAround(),this.counterOfMines.textContent="Number of hidden dreaming cats: ".concat(this.restMines),this.counterOfFlags.textContent="Number of paws: ".concat(this.flags)}else console.log(e.target===this.game)}},{key:"receiveMines",value:function(e,t){for(var s=this.mines;s>0;s--){for(var i=Math.round(Math.random()*(this.rows-1)),n=Math.round(Math.random()*(this.columms-1));"m"===this.minesField[i][n]||i===e&&n===t;)i=Math.round(Math.random()*(this.rows-1)),n=Math.round(Math.random()*(this.columms-1));this.minesField[i][n]="m"}for(var a=0;a<this.minesField.length;a++)for(var o=0;o<this.minesField[a].length;o++)this.minesField[a][o]}},{key:"receiveNumberOfMinesAround",value:function(){for(var e=0;e<this.minesField.length;e++)for(var t=0;t<this.minesField[e].length;t++){var s=0;"m"!==this.minesField[e][t]&&(e>0&&t>0&&"m"===this.minesField[e-1][t-1]&&(s+=1),e>0&&"m"===this.minesField[e-1][t]&&(s+=1),e>0&&t<this.minesField[e].length-1&&"m"===this.minesField[e-1][t+1]&&(s+=1),t>0&&"m"===this.minesField[e][t-1]&&(s+=1),t<this.minesField[e].length-1&&"m"===this.minesField[e][t+1]&&(s+=1),e<this.minesField.length-1&&t>0&&"m"===this.minesField[e+1][t-1]&&(s+=1),e<this.minesField.length-1&&"m"===this.minesField[e+1][t]&&(s+=1),e<this.minesField.length-1&&t<this.minesField[e].length-1&&"m"===this.minesField[e+1][t+1]&&(s+=1),this.minesField[e][t]=s)}}},{key:"fillMinesBoardFromMinesField",value:function(){console.log(this.game.children.length);for(var e=0;e<this.game.children.length;e++){var t=parseInt(this.game.children[e].dataset.position.split(",")[0]),s=parseInt(this.game.children[e].dataset.position.split(",")[1]);this.game.children[e].textContent=this.minesField[t][s]}}},{key:"openCell",value:function(e){if(document.body.children[0].classList.contains("window_result")||0!==this.markForRangeEvent&&this.productiveClicksCount>0||e.target===this.game)return e.preventDefault(),void e.stopImmediatePropagation();if("IMG "==e.target.tagName&&e.preventDefault(),(this.cell||this.cell.contains.classList.contains("cell")||"click"!==e.type)&&(this.cell||this.cell.contains.classList.contains("cell")||"contextmenu"!==e.type)){"DIV"==e.target.tagName?this.currentCell=e.target:this.currentCell=e.target.parentNode;var t=parseInt(this.currentCell.dataset.position.split(",")[0]),s=parseInt(this.currentCell.dataset.position.split(",")[1]);if("click"===e.type){if(!this.currentCell.classList.contains("opened")&&!this.currentCell.classList.contains("marked")){if(this.currentCell.classList.add("opened"),this.currentCell.style.background="#c8c8c8","m"===this.minesField[t][s]){this.audioForMineCell.play();var i=document.createElement("img");i.classList.add("mine"),this.whiteThemeInput.checked?i.src=o:this.blackThemeInput.checked&&(i.src=l),this.currentCell.append(i),this.openRestSellsOfFieldIfMine(),this.currentCell.style.background="red",this.makeResultMessage(t,s),this.openResultWindow()}if("m"!==this.minesField[t][s]&&0!==this.minesField[t][s]&&(this.audioForOpenCell.play(),this.currentCell.textContent=this.minesField[t][s],this.makeDigitsColorful(t,s),this.makeValidationForWinningForRestUnOpenedSells(t,s)),0!==this.minesField[t][s])return;this.audioForOpenCell.play(),this.openCellsAroundEmptyCell(t,s),this.makeValidationForWinningForRestUnOpenedSells(t,s)}}else if("contextmenu"===e.type)if(e.preventDefault(),this.currentCell.classList.contains("marked")||this.currentCell.classList.contains("opened"))this.currentCell.classList.contains("marked")&&(this.audioForFlagCell.play(),this.currentCell.classList.toggle("marked"),this.currentCell.children[0].remove(),this.countOfRestMines(t,s),0===this.flags&&this.makeValidationForWinningForMarkedSells(t,s));else{this.audioForFlagCell.play(),this.currentCell.classList.toggle("marked");var n=document.createElement("img");n.classList.add("flag"),this.blackThemeInput.checked?n.src=r:this.whiteThemeInput.checked&&(n.src=h),this.currentCell.append(n),this.countOfRestMines(t,s),0===this.flags&&this.makeValidationForWinningForMarkedSells(t,s)}}else e.preventDefault()}},{key:"countOfRestMines",value:function(e,t){this.currentCell.classList.contains("marked")?(this.flags=this.flags-1,"m"===this.minesField[e][t]&&(this.restMines=this.restMines-1),this.counterOfMines.textContent="Number of hidden dreaming cats: ".concat(this.restMines),this.counterOfFlags.textContent="Number of paws: ".concat(this.flags)):this.currentCell.classList.contains("marked")||(this.flags=this.flags+1,"m"===this.minesField[e][t]&&(this.restMines=this.restMines+1),this.counterOfMines.textContent="Number of hidden dreaming cats: ".concat(this.restMines),this.counterOfFlags.textContent="Number of paws: ".concat(this.flags))}},{key:"openCellsAroundEmptyCell",value:function(e,t){new Object;var s=[];s.push(e.toString()),s.push(t.toString()),s=s.join(",");for(var i=0;i<this.game.children.length;i++)s===this.game.children[i].dataset.position&&(this.game.children[i].dataset.cheked=!0,this.game.children[i]);if(e>0&&t>0&&"m"!==this.minesField[e-1][t-1]){var n=[];n.push((e-1).toString()),n.push((t-1).toString()),n=n.join(",");for(var a=new Object,o=0;o<this.game.children.length;o++)n===this.game.children[o].dataset.position&&(a=this.game.children[o],this.game.children[o].classList.contains("marked")||(this.game.children[o].classList.add("opened"),this.game.children[o].style.background="#c8c8c8",0!==this.minesField[e-1][t-1]&&(this.game.children[o].innerHTML=this.minesField[e-1][t-1]),this.makeDigitsColorful(e-1,t-1,a)));0!==this.minesField[e-1][t-1]||a.dataset.cheked||this.openCellsAroundEmptyCell(e-1,t-1)}if(e>0&&"m"!==this.minesField[e-1][t]){var l=[];l.push((e-1).toString()),l.push(t.toString()),l=l.join(",");for(var r=new Object,h=0;h<this.game.children.length;h++)l===this.game.children[h].dataset.position&&(r=this.game.children[h],this.game.children[h].classList.contains("marked")||(this.game.children[h].classList.add("opened"),this.game.children[h].style.background="#c8c8c8",0!==this.minesField[e-1][t]&&(this.game.children[h].innerHTML=this.minesField[e-1][t]),this.makeDigitsColorful(e-1,t,r)));0!==this.minesField[e-1][t]||r.dataset.cheked||this.openCellsAroundEmptyCell(e-1,t)}if(e>0&&t<this.minesField[e].length-1&&"m"!==this.minesField[e-1][t+1]){var c=[];c.push((e-1).toString()),c.push((t+1).toString()),c=c.join(",");for(var d=new Object,m=0;m<this.game.children.length;m++)c===this.game.children[m].dataset.position&&(d=this.game.children[m],this.game.children[m].classList.contains("marked")||(this.game.children[m].classList.add("opened"),this.game.children[m].style.background="#c8c8c8",0!==this.minesField[e-1][t+1]&&(this.game.children[m].innerHTML=this.minesField[e-1][t+1]),this.makeDigitsColorful(e-1,t+1,d)));0!==this.minesField[e-1][t+1]||d.dataset.cheked||this.openCellsAroundEmptyCell(e-1,t+1)}if(t>0&&"m"!==this.minesField[e][t-1]){var u=[];u.push(e.toString()),u.push((t-1).toString()),u=u.join(",");for(var p=new Object,g=0;g<this.game.children.length;g++)u===this.game.children[g].dataset.position&&(p=this.game.children[g],this.game.children[g].classList.contains("marked")||(this.game.children[g].classList.add("opened"),this.game.children[g].style.background="#c8c8c8",0!==this.minesField[e][t-1]&&(this.game.children[g].innerHTML=this.minesField[e][t-1]),this.makeDigitsColorful(e,t-1,p)));0!==this.minesField[e][t-1]||p.dataset.cheked||this.openCellsAroundEmptyCell(e,t-1)}if(t<this.minesField[e].length-1&&"m"!==this.minesField[e][t+1]){var f=[];f.push(e.toString()),f.push((t+1).toString()),f=f.join(",");for(var v=new Object,k=0;k<this.game.children.length;k++)f===this.game.children[k].dataset.position&&(v=this.game.children[k],this.game.children[k].classList.contains("marked")||(this.game.children[k].classList.add("opened"),this.game.children[k].style.background="#c8c8c8",0!==this.minesField[e][t+1]&&(this.game.children[k].innerHTML=this.minesField[e][t+1]),this.makeDigitsColorful(e,t+1,v)));0!==this.minesField[e][t+1]||v.dataset.cheked||this.openCellsAroundEmptyCell(e,t+1)}if(e<this.minesField.length-1&&t>0&&"m"!==this.minesField[e+1][t-1]){var b=[];b.push((e+1).toString()),b.push((t-1).toString()),b=b.join(",");for(var F=new Object,C=0;C<this.game.children.length;C++)b===this.game.children[C].dataset.position&&(F=this.game.children[C],this.game.children[C].classList.contains("marked")||(this.game.children[C].classList.add("opened"),this.game.children[C].style.background="#c8c8c8",0!==this.minesField[e+1][t-1]&&(this.game.children[C].innerHTML=this.minesField[e+1][t-1]),this.makeDigitsColorful(e+1,t-1,F)));0!==this.minesField[e+1][t-1]||F.dataset.cheked||this.openCellsAroundEmptyCell(e+1,t-1)}if(e<this.minesField.length-1&&"m"!==this.minesField[e+1][t]){var y=[];y.push((e+1).toString()),y.push(t.toString()),y=y.join(",");for(var I=new Object,w=0;w<this.game.children.length;w++)y===this.game.children[w].dataset.position&&(I=this.game.children[w],this.game.children[w].classList.contains("marked")||(this.game.children[w].classList.add("opened"),this.game.children[w].style.background="#c8c8c8",0!==this.minesField[e+1][t]&&(this.game.children[w].innerHTML=this.minesField[e+1][t]),this.makeDigitsColorful(e+1,t,I)));0!==this.minesField[e+1][t]||I.dataset.cheked||this.openCellsAroundEmptyCell(e+1,t)}if(e<this.minesField.length-1&&t<this.minesField[e].length-1&&"m"!==this.minesField[e+1][t+1]){var L=[];L.push((e+1).toString()),L.push((t+1).toString()),L=L.join(",");for(var S=new Object,O=0;O<this.game.children.length;O++)L===this.game.children[O].dataset.position&&(S=this.game.children[O],this.game.children[O].classList.contains("marked")||(this.game.children[O].classList.add("opened"),this.game.children[O].style.background="#c8c8c8",0!==this.minesField[e+1][t+1]&&(this.game.children[O].innerHTML=this.minesField[e+1][t+1]),this.makeDigitsColorful(e+1,t+1,S)));0!==this.minesField[e+1][t+1]||S.dataset.cheked||this.openCellsAroundEmptyCell(e+1,t+1)}}},{key:"makeDigitsColorful",value:function(e,t,s){1===this.minesField[e][t]?("1"===this.currentCell.textContent&&this.currentCell.classList.add("one"),null!=s&&s.classList.add("one")):2===this.minesField[e][t]?("2"===this.currentCell.textContent&&this.currentCell.classList.add("two"),null!=s&&s.classList.add("two")):3===this.minesField[e][t]?("3"===this.currentCell.textContent&&this.currentCell.classList.add("three"),null!=s&&s.classList.add("three")):4===this.minesField[e][t]?("4"===this.currentCell.textContent&&this.currentCell.classList.add("four"),null!=s&&s.classList.add("four")):5===this.minesField[e][t]?("5"===this.currentCell.textContent&&this.currentCell.classList.add("five"),null!=s&&s.classList.add("five")):6===this.minesField[e][t]?(console.log(this.currentCell),"6"===this.currentCell.textContent&&this.currentCell.classList.add("six"),null!=s&&s.classList.add("six")):7===this.minesField[e][t]?(console.log(this.currentCell),"7"===this.currentCell.textContent&&this.currentCell.classList.add("seven"),null!=s&&s.classList.add("seven")):8===this.minesField[e][t]&&(console.log(this.currentCell),"8"===this.currentCell.textContent&&this.currentCell.classList.add("eight"),null!=s&&s.classList.add("eight"))}},{key:"countTime",value:function(){this.seconds>60&&(this.minutes=this.minutes+1,this.seconds=0),this.seconds=this.seconds+1,this.seconds<10?this.counterOfTime.textContent="Duration: 0".concat(this.minutes,":0").concat(this.seconds," seconds"):this.seconds>=10?this.counterOfTime.textContent="Duration: 0".concat(this.minutes,":").concat(this.seconds," seconds"):this.minutes>=10&&this.seconds<10?this.counterOfTime.textContent="Duration: ".concat(this.minutes,":0").concat(this.seconds," seconds"):this.minutes>=10&&this.seconds>=10&&(this.counterOfTime.textContent="Duration: ".concat(this.minutes,":").concat(this.seconds," seconds"))}},{key:"openResultWindow",value:function(){clearInterval(this.timerIdForStop),this.resultWindow.classList.add("window_result"),this.resultText.classList.add("result_text"),this.resultOKButton.classList.add("button_ok"),this.resultOKButton.textContent="OK",this.resultWindow.append(this.resultText),this.resultWindow.append(this.resultOKButton),document.body.prepend(this.resultWindow)}},{key:"openInputWindowForName",value:function(){this.resultsInputBlock.classList.add("window_name"),this.resultsInputBlockTitle.classList.add("window_name_title"),this.resultsInputBlockTitle.textContent="Enter your name",this.resultsInputBlockInput.setAttribute("id","player"),this.resultsInputBlockInput.setAttribute("type","text"),this.resultsInputBlockSubmit.classList.add("button_submit"),this.resultsInputBlockSubmit.textContent="Submit",this.resultsInputBlock.append(this.resultsInputBlockTitle),this.resultsInputBlock.append(this.resultsInputBlockInput),this.resultsInputBlock.append(this.resultsInputBlockSubmit),document.body.prepend(this.resultsInputBlock)}},{key:"openWindowForLoadPreviousGame",value:function(e){localStorage.getItem("savedGameMineSweeper")&&(this.loadWindow.classList.add("load_window"),this.loadTitle.classList.add("load_title"),this.loadTitle.textContent="Do you want to load previuos game?",this.loadWindow.append(this.loadTitle),this.loadBlockForButtons.classList.add("load_buttons_block"),this.loadWindow.append(this.loadBlockForButtons),this.loadYesButton.classList.add("load_button"),this.loadYesButton.textContent="Yes",this.loadBlockForButtons.append(this.loadYesButton),this.loadNoButton.classList.add("load_button"),this.loadNoButton.textContent="No",this.loadBlockForButtons.append(this.loadNoButton),document.body.prepend(this.loadWindow))}},{key:"makeResultMessage",value:function(e,t){clearInterval(this.timerIdForStop),"m"===this.minesField[e][t]&&this.counterOfMarkedKittens!==this.mines?this.resultText.textContent="Opps!!! Your woke up a kitten and he scratched you. Sorry, but the game is over. Be more cauful next time. Good luck)":("m"===this.minesField[e][t]&&this.counterOfMarkedKittens===this.mines&&0===this.flags||"m"!==this.minesField[e][t]&&this.counterForRestCellsWithOutBombs===this.numberOfCells-this.mines)&&(this.resultText.textContent="Cogratulations!!!! You found all kittens in ".concat(this.counterOfTime.textContent.slice(10)," and ").concat(this.productiveClicksCount," clicks and  didn't wake up them"),this.audioForWin.play())}},{key:"pressOKonCloseWindow",value:function(e){e.stopPropagation(),document.body.children[0].classList.contains("window_result")&&document.body.children[0].remove(),0!==this.winGame?this.openInputWindowForName():this.resetAllResultsOfGame(e)}},{key:"pressSubmitButtonOnNameWindow",value:function(e){e.stopPropagation(),this.resultsName=this.resultsInputBlockInput.value,this.makeNoteInResults(),document.body.children[0].classList.contains("window_name")&&document.body.children[0].remove(),this.resetAllResultsOfGame(e)}},{key:"resetAllResultsOfGame",value:function(e){for(var t=this.numberOfCells-1;t>=0;t--)this.game.children[t].remove();"click"===e.type&&(this.setNewSizeOfField(e),this.setNewNumberOfMines(e)),this.setNewSizwOFGameGrid(),this.numberOfCells=this.rows*this.columms,this.receiveMineSweeperBoard(),this.seconds=0,this.minutes=0,this.clickscount=0,this.productiveClicksCount=0,this.flags=this.mines,this.restMines=this.mines,this.minesField=new Array(this.rows),this.numberOfLeftClicks.textContent="Number of movements: ".concat(this.productiveClicksCount),this.counterOfMines.textContent="Number of hidden dreaming cats: 0",this.counterOfFlags.textContent="Number of paws: 0",this.counterOfTime.textContent="Duration: 00:00 min",this.markForRangeEvent=0,this.winGame=0}},{key:"makeValidationForWinningForMarkedSells",value:function(e,t){for(var s=0;s<this.game.children.length;s++)if(this.game.children[s].classList.contains("marked")){var i=parseInt(this.game.children[s].dataset.position.split(",")[0]),n=parseInt(this.game.children[s].dataset.position.split(",")[1]);"m"===this.minesField[i][n]&&(this.counterOfMarkedKittens+=1)}this.counterOfMarkedKittens===this.mines&&this.counterForRestCellsWithOutBombs===this.numberOfCells-this.mines&&(this.makeResultMessage(e,t),this.openResultWindow(),this.winGame=1),this.counterOfMarkedKittens=0,this.counterForRestCellsWithOutBombs=0}},{key:"makeValidationForWinningForRestUnOpenedSells",value:function(e,t){this.countCellsWithOutClassOpened(e,t),this.counterForRestCellsWithOutBombs===this.numberOfCells-this.mines&&(this.makeResultMessage(e,t),this.openResultWindow(),this.winGame=1),this.counterForRestCellsWithOutBombs=0}},{key:"openRestSellsOfFieldIfMine",value:function(){for(var e=0;e<this.game.children.length;e++){var t=parseInt(this.game.children[e].dataset.position.split(",")[0]),s=parseInt(this.game.children[e].dataset.position.split(",")[1]);if(this.game.children[e].classList.contains("marked")){if(this.game.children[e].classList.contains("marked")&&"m"!==this.minesField[t][s]){var i=document.createElement("div");i.classList.add("cross1");var n=document.createElement("div");n.classList.add("cross2"),this.game.children[e].append(i),this.game.children[e].append(n)}}else{if(this.game.children[e].style.background="#c8c8c8","m"===this.minesField[t][s]&&0===this.game.children[e].children.length){this.game.children[e].classList.add("opened");var a=document.createElement("img");a.classList.add("mine"),this.whiteThemeInput.checked?a.src=o:this.blackThemeInput.checked&&(a.src=l),this.game.children[e].append(a)}"m"!==this.minesField[t][s]&&0!==this.minesField[t][s]&&(this.game.children[e].textContent=this.minesField[t][s],this.game.children[e].classList.add("opened"),1===this.minesField[t][s]?this.game.children[e].classList.add("one"):2===this.minesField[t][s]?this.game.children[e].classList.add("two"):3===this.minesField[t][s]?this.game.children[e].classList.add("three"):4===this.minesField[t][s]?this.game.children[e].classList.add("four"):5===this.minesField[t][s]?this.game.children[e].classList.add("five"):6===this.minesField[t][s]?this.game.children[e].classList.add("six"):7===this.minesField[t][s]?this.game.children[e].classList.add("seven"):8===this.minesField[t][s]&&this.game.children[e].classList.add("eight")),0===this.minesField[t][s]&&this.game.children[e].classList.add("opened")}}}},{key:"countCellsWithOutClassOpened",value:function(e,t){for(var s=0;s<this.game.children.length;s++){var i=parseInt(this.game.children[s].dataset.position.split(",")[0]),n=parseInt(this.game.children[s].dataset.position.split(",")[1]);this.game.children[s].classList.contains("opened")&&"m"!==this.minesField[i][n]&&(this.counterForRestCellsWithOutBombs+=1)}}},{key:"setNewSizeOfField",value:function(e){clearInterval(this.timerIdForStop),this.sizeEasy.checked?(this.rows=parseInt(this.sizeEasy.getAttribute("id")),this.columms=parseInt(this.sizeEasy.getAttribute("id"))):this.sizeMedium.checked?(this.rows=parseInt(this.sizeMedium.getAttribute("id")),this.columms=parseInt(this.sizeMedium.getAttribute("id"))):this.sizeHard.checked&&(this.rows=parseInt(this.sizeHard.getAttribute("id")),this.columms=parseInt(this.sizeHard.getAttribute("id"))),this.markForRangeEvent=1,"change"===e.type&&(clearInterval(this.timerIdForStop),this.pressOKonCloseWindow(e)),this.clickscount}},{key:"setNewSizwOFGameGrid",value:function(){this.game.style.gridTemplateColumns="repeat(".concat(this.columms,", auto)"),this.game.style.gridTemplateRows="repeat(".concat(this.rows,", auto)")}},{key:"setNewNumberOfMines",value:function(e){this.mines=this.numberOfMinesInput.value,this.numberOfMinesInput.setAttribute("value",this.mines),this.numberOfMinesTitle.textContent="Number of kittens: ".concat(this.mines," kittens"),this.flags=this.mines,this.restMines=this.mines,this.markForRangeEvent=1,"change"===e.type&&(clearInterval(this.timerIdForStop),this.pressOKonCloseWindow(e)),this.clickscount}},{key:"setWhiteTheme",value:function(){document.body.classList.add("white-theme"),document.body.style.backgroundPosition="50% 100%",document.body.style.backgroundRepeat="no-repeat",document.body.style.backgroundSize="cover",this.durationAndGameContainer.style.color="#FFFFFF",this.toolsScoreContainer.style.color="#FFFFFF",this.buttonStartNewGame.style.color="#000000";for(var e=0;e<this.game.children.length;e++)if(this.game.children[e].classList.contains("opened")||(this.game.children[e].style.background="#fafafa"),this.game.children[e].classList.contains("marked")){this.game.children[e].children[0].remove();var t=document.createElement("img");t.classList.add("flag"),t.src=h,this.game.children[e].append(t)}this.resultsTitle.style.background="#fafafa",this.resultsTitle.style.color="#000000",this.settigsTitle.style.background="#fafafa",this.settigsTitle.style.color="#000000",this.settingsCommonBlock.style.background="#fafafa",this.settingsCommonBlock.style.color="#000000",this.buttonStartNewGame.style.background="#fafafa",this.buttonStartNewGame.style.color="#000000",this.resultWindow.style.background="#fafafa",this.resultWindow.style.color="#000000",this.resultsTable.style.background="#fafafa",this.resultsTable.style.color="#000000",this.resultsInputBlock.style.background="#fafafa",this.resultsInputBlock.style.color="#000000",this.resultsCloseIcon.style.background="#fafafa",this.resultsCloseIcon.children[0].remove(),this.resultsCloseIconImage.src=c,this.resultsCloseIcon.append(this.resultsCloseIconImage),this.settingsCloseIcon.style.background="#fafafa",this.settingsCloseIcon.children[0].remove(),this.settingsCloseIconImage.src=c,this.settingsCloseIcon.append(this.settingsCloseIconImage),this.loadWindow.style.background="#fafafa",this.loadWindow.style.color="#000000",this.saveButton.style.background="#fafafa",this.saveButton.style.color="#000000"}},{key:"setBlackTheme",value:function(){document.body.classList.remove("white-theme"),document.body.style.backgroundPosition="cover",document.body.style.backgroundSize="100% 100%",this.durationAndGameContainer.style.color="#000000",this.toolsScoreContainer.style.color="#000000";for(var e=0;e<this.game.children.length;e++)if(this.game.children[e].classList.contains("opened")||(this.game.children[e].style.background="#000000"),this.game.children[e].classList.contains("marked")){this.game.children[e].children[0].remove();var t=document.createElement("img");t.classList.add("flag"),t.src=r,this.game.children[e].append(t)}this.resultsTitle.style.background="#000000",this.resultsTitle.style.color="#FFFFFF",this.settigsTitle.style.background="#000000",this.settigsTitle.style.color="#FFFFFF",this.settingsCommonBlock.style.background="#000000",this.settingsCommonBlock.style.color="#FFFFFF",this.buttonStartNewGame.style.background="#000000",this.buttonStartNewGame.style.color="#FFFFFF",this.resultWindow.style.background="#000000",this.resultWindow.style.color="#FFFFFF",this.resultsTable.style.background="#000000",this.resultsTable.style.color="#FFFFFF",this.resultsInputBlock.style.background="#000000",this.resultsInputBlock.style.color="#FFFFFF",this.resultsCloseIcon.style.background="#000000",this.resultsCloseIcon.children[0].remove(),this.resultsCloseIconImage.src=d,this.resultsCloseIcon.append(this.resultsCloseIconImage),this.settingsCloseIcon.style.background="#000000",this.settingsCloseIcon.children[0].remove(),this.settingsCloseIconImage.src=d,this.settingsCloseIcon.append(this.settingsCloseIconImage),this.loadWindow.style.background="#000000",this.loadWindow.style.color="#FFFFFF",this.saveButton.style.background="#000000",this.saveButton.style.color="#FFFFFF"}},{key:"setSoundVolumeOn",value:function(e){this.audioForMineCell.volume=1,this.audioForFlagCell.volume=1,this.audioForOpenCell.volume=1,this.audioForGameOver.volume=1,this.audioForWin.volume=1}},{key:"setSoundVolumeOff",value:function(e){this.audioForMineCell.volume=0,this.audioForFlagCell.volume=0,this.audioForOpenCell.volume=0,this.audioForGameOver.volume=0,this.audioForWin.volume=0,console.log(this.audioForOpenCell.volume)}},{key:"openSettings",value:function(e){document.body.children[0].classList.contains("results_table")&&document.body.children[0].remove(),document.body.prepend(this.settingsCommonBlock)}},{key:"closeSettings",value:function(e){e.stopPropagation(),document.body.children[0].remove()}},{key:"openResults",value:function(e){document.body.children[0].classList.contains("settings_container")&&document.body.children[0].remove(),document.body.prepend(this.resultsTable)}},{key:"closeResults",value:function(e){e.stopPropagation(),document.body.children[0].remove()}},{key:"saveGame",value:function(e){for(var t=0;t<this.game.children.length;t++)this.game.children[t].classList.contains("opened")?this.arrayOfClasesOfCells.push("opened"):this.game.children[t].classList.contains("marked")?this.arrayOfClasesOfCells.push("marked"):this.game.children[t].classList.contains("marked")||this.game.children[t].classList.contains("opened")||this.arrayOfClasesOfCells.push("unopened");var s={};if(this.arrayForClicks.length>0){s={name:this.arrayForNames,clicks:this.arrayForClicks,time:this.arrayForTime};var i=JSON.stringify(s);localStorage.setItem("savedResultsMineSweeper",i),JSON.parse(i)}var n={};if(null!=this.minesField[0]){n={fieldWithMines:this.minesField,rows:this.rows,mines:this.mines,columns:this.columms,gameField:this.arrayOfClasesOfCells,allClicks:this.clickscount,productiveClicks:this.productiveClicksCount,timer:this.counterOfTime.textContent.slice(10,15),flags:this.flags,restMines:this.restMines,whiteTheme:this.whiteThemeInput.checked,blackTheme:this.blackThemeInput.checked,onSound:this.onSoundInput.checked,offSound:this.offSoundInput.checked,size10:this.sizeEasy.checked,size15:this.sizeMedium.checked,size25:this.sizeHard.checked,numberOfMinesInput:this.numberOfMinesInput.value};var a=JSON.stringify(n);JSON.parse(a),localStorage.setItem("savedGameMineSweeper",a),this.arrayOfClasesOfCells=[]}}},{key:"receivePreviousGameInSave",value:function(){this.resultsFromSave=JSON.parse(localStorage.getItem("savedResultsMineSweeper")),this.gameFromSave=JSON.parse(localStorage.getItem("savedGameMineSweeper")),this.openWindowForLoadPreviousGame(),this.receiveResultsTablefromSave()}},{key:"closeLoadWindow",value:function(e){e.stopPropagation(),document.body.children[0].classList.contains("load_window")&&document.body.children[0].remove()}},{key:"loadPreviousGame",value:function(e){!0===this.gameFromSave.whiteTheme&&(this.whiteThemeInput.checked=!0,this.setWhiteTheme()),!0===this.gameFromSave.offSound&&(this.offSoundInput.checked=!0,this.setSoundVolumeOff()),!0===this.gameFromSave.size15?this.sizeMedium.checked=!0:!0===this.gameFromSave.size25&&(this.sizeHard.checked=!0),this.mines=this.gameFromSave.mines,this.numberOfMinesInput.value=this.gameFromSave.mines,this.numberOfMinesTitle.textContent="Number of kittens: ".concat(this.mines," kittens"),this.minesField=JSON.parse(JSON.stringify(this.gameFromSave.fieldWithMines)),this.rows=this.gameFromSave.rows,this.columms=this.gameFromSave.columns,this.clickscount=this.gameFromSave.allClicks,this.productiveClicksCount=this.gameFromSave.productiveClicks,this.numberOfLeftClicks.textContent="Number of movements: ".concat(this.productiveClicksCount),this.counterOfTime.textContent="Duration: ".concat(this.gameFromSave.timer," seconds"),this.seconds=parseInt(this.gameFromSave.timer.slice(3)),this.minutes=parseInt(this.gameFromSave.timer.slice(0,3)),this.restMines=this.gameFromSave.restMines,this.counterOfMines.textContent="Number of hidden dreaming cats:  ".concat(this.restMines),this.flags=this.gameFromSave.flags,this.counterOfFlags.textContent="Number of paws: ".concat(this.flags);for(var t=this.numberOfCells-1;t>=0;t--)this.game.children[t].remove();this.setNewSizwOFGameGrid(),this.numberOfCells=this.rows*this.columms,this.receiveMineSweeperBoard(),this.fillFieldAfterReload(),this.closeLoadWindow(e),setTimeout((function(){f.countTime()}),0),this.timerIdForStop=setInterval((function(){f.countTime()}),1e3),localStorage.removeItem("savedGameMineSweeper")}},{key:"fillFieldAfterReload",value:function(){for(var e=0;e<this.game.children.length;e++){var t=parseInt(this.game.children[e].dataset.position.split(",")[0]),s=parseInt(this.game.children[e].dataset.position.split(",")[1]);if("opened"===this.gameFromSave.gameField[e]&&(this.game.children[e].classList.add("opened"),this.game.children[e].style.background="#c8c8c8","m"!==this.minesField[t][s]&&0!==this.minesField[t][s]&&(this.game.children[e].textContent=this.minesField[t][s],1===this.minesField[t][s]?"1"===this.game.children[e].textContent&&this.game.children[e].classList.add("one"):2===this.minesField[t][s]?"2"===this.game.children[e].textContent&&this.game.children[e].classList.add("two"):3===this.minesField[t][s]?"3"===this.game.children[e].textContent&&this.game.children[e].classList.add("three"):4===this.minesField[t][s]?"4"===this.game.children[e].textContent&&this.game.children[e].classList.add("four"):5===this.minesField[t][s]?"5"===this.game.children[e].textContent&&this.game.children[e].classList.add("five"):6===this.minesField[t][s]?"6"===this.game.children[e].textContent&&this.game.children[e].classList.add("six"):7===this.minesField[t][s]?"7"===this.game.children[e].textContent&&this.game.children[e].classList.add("seven"):8===this.minesField[t][s]&&"8"===this.game.children[e].textContent&&this.game.children[e].classList.add("eight"))),"marked"===this.gameFromSave.gameField[e]){this.game.children[e].classList.add("marked");var i=document.createElement("img");i.classList.add("flag"),this.blackThemeInput.checked?i.src=r:this.whiteThemeInput.checked&&(i.src=h),this.game.children[e].append(i)}}}},{key:"showScore",value:function(){console.log("Самооценка работы:\n\nBasic scope +40\n-layout, design, responsive UI: +10\n-at the beginning state of the game, the frame has size 10x10 and is filled with unopened cells. Should be 10 mines on field by default: +10\n-when user click on cells - it should be opened and marked as one of the following state: empty cell, cell with number, or cell with mine: +10\n-the game should end when the player reveals all cells that do not contain mines (win) or clicks on mine (lose) and related message is displayed at the end of the game: +10\n\nAdvanced scope +80\n\n-mines are placed after the first move, so that user cannot lose on the first move. +20\n-user can mark “mined” cells using flags so as not to accidentally open them displaying the number of mines remaining and displaying number of used flags: +10\n-the game should use color coding (using numbers and colors) to indicate the number of mines surrounding a revealed cell: +10\n-the game can be restarted without reloading the page: +10\n-game duration and number of clicks are displayed: +15\n-when user opens a square that does not touch any mines, it will be empty and the adjacent squares will automatically open in all directions until reaching squares that contain numbers: +15\n\nHacker scope +60\n\n-sound accompaniment (on/off) when clicking on cell and at the end of the game: +10\n-implement ability to change the size (easy - 10x10, medium - 15x15, hard - 25x25) and number of mines for each size of the field (from 10 to 99): +20\n-implemented saving the latest 10 results using LocalStorage: +10\n-implemented saving the state of the game: +10\n- option to choose different themes for the game board (dark/light themes): +10\n\nScore: 180 points.\n      ")}}])&&g(m.prototype,p),Object.defineProperty(m,"prototype",{writable:!1}),e}());f.receiveMineSweeperGame(),f.receiveMineSweeperBoard(),f.receivePreviousGameInSave(),f.showScore(),f.game.addEventListener("click",(function(e){f.receiveNumberOfClicks(e),1===f.clickscount&&f.receiveMinesField(e),f.openCell(e)})),f.game.addEventListener("contextmenu",(function(e){f.openCell(e)})),f.resultOKButton.addEventListener("click",(function(e){f.pressOKonCloseWindow(e)})),f.buttonStartNewGame.addEventListener("click",(function(e){f.setNewSizwOFGameGrid(),f.pressOKonCloseWindow(e)})),f.resultsInputBlockSubmit.addEventListener("click",(function(e){f.pressSubmitButtonOnNameWindow(e)})),f.settigsTitle.addEventListener("click",(function(e){f.openSettings(e)})),f.resultsTitle.addEventListener("click",(function(e){f.openResults(e)})),f.resultsCloseIcon.addEventListener("click",(function(e){f.closeResults(e)})),f.settingsCloseIcon.addEventListener("click",(function(e){f.closeSettings(e)})),f.loadNoButton.addEventListener("click",(function(e){f.closeLoadWindow(e)})),f.loadYesButton.addEventListener("click",(function(e){f.loadPreviousGame(e)})),f.saveButton.addEventListener("click",(function(e){f.saveGame(e)})),window.addEventListener("unload",(function(e){f.saveGame(e)})),f.sizeEasy.addEventListener("change",(function(e){f.setNewSizeOfField(e)})),f.sizeMedium.addEventListener("change",(function(e){f.setNewSizeOfField(e)})),f.sizeHard.addEventListener("change",(function(e){f.setNewSizeOfField(e)})),f.numberOfMinesInput.addEventListener("change",(function(e){f.setNewNumberOfMines(e)})),f.whiteThemeInput.addEventListener("change",(function(e){f.setWhiteTheme(e)})),f.blackThemeInput.addEventListener("change",(function(e){f.setBlackTheme(e)})),f.onSoundInput.addEventListener("change",(function(e){f.setSoundVolumeOn(e)})),f.offSoundInput.addEventListener("change",(function(e){f.setSoundVolumeOff(e)}))})();